.arena-page { height: 100svh; min-height: 100svh; background: #0f0f0f; color: #fff; display: flex; align-items: stretch; justify-content: center; padding: 16px; box-sizing: border-box; font-family: "Instrument Sans", system-ui, Arial, sans-serif; position: relative; overflow: hidden; }
.arena-page::after { content: ''; position: absolute; inset: 0; background-image: radial-gradient(circle, rgba(255, 255, 255, 0.8) 1px, transparent 1px), radial-gradient(circle, rgba(255, 255, 255, 0.6) 1px, transparent 1px), radial-gradient(circle, rgba(255, 204, 51, 0.7) 1px, transparent 1px), radial-gradient(circle, rgba(0, 198, 255, 0.6) 1px, transparent 1px); background-size: 120px 80px, 180px 120px, 200px 100px, 150px 90px; background-position: 0 0, 40px 60px, 80px 20px, 120px 80px; background-repeat: repeat; pointer-events: none; z-index: 0; animation: particleBreathe 8s ease-in-out infinite; }
.arena-container { width: 100%; max-width: 1200px; display: flex; flex-direction: column; gap: 12px; position: relative; z-index: 1; height: 100%; overflow: hidden; }

/* Professional, compact header */
.arena-header { display: flex; flex-direction: column; gap: 6px; }
.subject-pill { display: inline-block; align-self: flex-start; padding: 6px 10px; border-radius: 999px; background: #ffcc33; color: #0f0f0f; font-weight: 800; font-size: 12px; letter-spacing: .3px; }
.arena-subtitle { margin: 0; color: #cfcfd6; font-size: 0.95rem; }
.arena-level { font-size: 0.9rem; color: #e7e7ee; }
.arena-top { display: grid; grid-template-columns: 1fr auto 1fr; align-items: end; gap: 24px; }
.vs { font-size: clamp(3rem, 8vw, 6rem); font-weight: 800; color: #ff3b3b; align-self: center; }
.entity { display: flex; flex-direction: column; align-items: center; gap: 12px; }
.card { width: 100%; max-width: 420px; background: linear-gradient(160deg, #7a5b00, #c6a100, #7a5b00); border-radius: 24px; padding: 16px; box-shadow: 0 20px 60px rgba(0,0,0,.35); border: 1px solid rgba(255,255,255,.1); }
.image { width: 100%; height: 260px; border-radius: 18px; background-size: cover; background-position: center; }
.label { display: block; margin-top: 10px; text-align: center; font-weight: 700; }
.hp-bar { width: 100%; max-width: 420px; height: 10px; border-radius: 999px; background: #1f1f1f; overflow: hidden; border: 1px solid rgba(255,255,255,.1); }
.hp-fill { height: 100%; background: #00d26a; transition: width .3s ease; }
.hp-bar.red .hp-fill { background: #ff4d4f; }

.quiz { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 16px; padding: 28px; }
.question { margin: 0 0 18px 0; font-size: clamp(1.4rem, 3.2vw, 2rem); }
.options { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }
.option { padding: 16px 18px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.12); background: rgba(255,255,255,0.02); color: #fff; cursor: pointer; transition: all .2s ease; text-align: left; font-size: 1rem; }
.option:hover { background: rgba(255,255,255,0.06); }
.option.correct { background: rgba(0, 210, 106, 0.15); border-color: rgba(0,210,106,0.6); }
.option.wrong { background: rgba(255,77,79,0.15); border-color: rgba(255,77,79,0.6); }
.controls { display: flex; gap: 12px; margin-top: 12px; }
.btn { padding: 12px 18px; border-radius: 10px; border: none; cursor: pointer; font-weight: 700; }
.btn.yellow { background: #ffcc33; color: #0f0f0f; }
.btn.gray { background: #2a2a2a; color: #fff; }
.result { margin-top: 10px; font-weight: 700; }
.gameover { text-align: center; font-size: clamp(1.3rem, 3vw, 1.8rem); font-weight: 800; }
.go-actions { margin-top: 16px; display: flex; gap: 12px; justify-content: center; }

/* Two-column layout: left videos stacked, right quiz card */
.arena-stage { position: relative; display: grid; grid-template-columns: minmax(0,1fr) minmax(360px, 1.4fr); align-items: center; width: 100%; gap: 14px; flex: 1; min-height: 0; }
.video-stack { display: grid; grid-template-rows: minmax(0,1fr) minmax(0,1fr); gap: 14px; height: 100%; }
.stage.half { position: relative; border-radius: 18px; overflow: hidden; border: 1px solid rgba(255,255,255,0.08); box-shadow: 0 20px 60px rgba(0,0,0,0.35); background:#fff; }
.stage video { width: 100%; height: 100%; object-fit: cover; display: block; filter: brightness(0.9); }
.stage .overlay { position: absolute; left: 12px; right: 12px; top: 12px; display: flex; align-items: center; gap: 10px; }

/* Hit animations */
.stage.hit { animation: hit-shake 400ms ease; }
.stage.hit::after { content: ''; position: absolute; inset: 0; background: rgba(255,0,0,0.25); animation: hit-flash 400ms ease; pointer-events: none; }

@keyframes hit-shake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-6px); }
  40% { transform: translateX(6px); }
  60% { transform: translateX(-4px); }
  80% { transform: translateX(4px); }
}

@keyframes hit-flash {
  0% { opacity: 0.6; }
  100% { opacity: 0; }
}

/* Right side quiz card */
.quiz-card { width: 100%; align-self: stretch; background: rgba(11,12,16,0.6); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 20px 60px rgba(0,0,0,0.45); display: flex; flex-direction: column; height: 100%; min-height: 0; overflow: hidden; }
.quiz-card .question { margin-top: 0; }
.quiz-meta { flex: 0 0 auto; }
.options { flex: 1 1 auto; overflow: auto; }

/* VS marker removed in professional layout */
.vs-mid { display: none; }

@media (max-width: 900px) {
  .arena-stage { gap: 12px; grid-template-columns: 1fr; }
  .video-stack { grid-template-rows: 1fr; }
  .quiz-card { align-self: stretch; }
  .options { grid-template-columns: 1fr; }
}
